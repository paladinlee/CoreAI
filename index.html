<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <title>Show</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kaushan+Script&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">


    <link rel="stylesheet" href="css/style.css" />
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</head>

<body>
    <!-- Banner Section -->
    <section class="banner">
        <div class="container">
            <h1 class="bannerfont">GAI Application</h1>
            <p>This is a sample of demo GAI</p>

        </div>
    </section>
    <!-- End Banner Section -->
    <div id="app">
        <div class="container pt-2">
            <div class="row">
                <div class="col-sm-4">
                    <div class="container">
                        <div class="row pb-2">
                            <div class="col-sm-4 text-end">電腦名稱</div>
                            <div class="col-sm-8"><input type="text" class="form-control" v-model="pcName"></div>
                        </div>
                        <div class="row pb-2">
                            <div class="col-sm-4 text-end">資料庫名稱</div>
                            <div class="col-sm-8"><input type="text" class="form-control" v-model="dbName"></div>
                        </div>
                        <div class="row pb-2">
                            <div class="col-sm-4 text-end">Table 名稱</div>
                            <div class="col-sm-8"><input type="text" class="form-control" v-model="tbName"></div>
                        </div>
                        <div class="row pb-2">
                            <div class="col-sm-4 text-end">Table Schema</div>
                            <div class="col-sm-8"><textarea type="text" class="form-control"
                                    v-model="tbSchema"></textarea></div>
                        </div>
                        <div class="row pb-2">
                            <div class="col-sm-4 text-end">可編輯欄位(逗號區隔)</div>
                            <div class="col-sm-8"><textarea type="text" class="form-control"
                                    v-model="tbModifyColumns"></textarea></div>
                        </div>
                        <div class="row pb-2">
                            <div class="col-sm-4 text-end">可新增欄位(逗號區隔)</div>
                            <div class="col-sm-8"><textarea type="text" class="form-control"
                                    v-model="tbAddColumns"></textarea></div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-8">
                    <div class="container">
                        <div class="row pb-2">
                            <div class="col">
                                <h1>提示詞</h1>
                            </div>
                        </div>
                        <div class="row pb-5">
                            <div class="col">
                                <textarea id="ta01" class="form-control" rows="4" v-model="getConnection"></textarea>
                                <a href="#" title="複製" @click="doCopy('ta01')"><i class="bi bi-copy fs-4"></i></a>
                            </div>
                        </div>
                        <div class="row pb-5">
                            <div class="col">
                                <textarea id="ta02" class="form-control" rows="4">請問，NuGet 套件管理，需要安裝那些套件?</textarea>
                                <a href="#" title="複製" @click="doCopy('ta02')"><i class="bi bi-copy fs-4"></i></a>
                            </div>
                        </div>
                        <div class="row pb-5">
                            <div class="col">
                                <h2>Index()</h2>
                                <textarea id="ta03" class="form-control"
                                    rows="4">在{{tbName}}Controller.cs, 搭配SqlCommand對資料表{{tbName}}産生 index 功能，不使用EntityFramework,前端必須搭配使用bootstrap 、jquery、搭配 完整ajax程式碼 實現顯示 {{tbName}} 所有資料的頁面。注意，DB 連線請使用 appsettings.json 裡的設定，請寫出完整的View、 Controller 、 _Layout.cshtml</textarea>
                                <a href="#" title="複製" @click="doCopy('ta03')"><i class="bi bi-copy fs-4"></i></a>
                            </div>
                        </div>
                        <div class="row pb-5">
                            <div class="col">
                                <h2>編輯</h2>
                                <textarea id="ta04" class="form-control"
                                    rows="4">在{{tbName}}Controller.cs, 搭配SqlCommand對資料表{{tbName}}産生 edit 功能，不使用EntityFramework,前端必須搭配使用bootstrap 、jquery、搭配 完整ajax程式碼 實現完整的編輯流程。注意，DB 連線請使用 appsettings.json 裡的設定,請寫出完整的View、 Controller 、 _Layout.cshtml</textarea>
                                <a href="#" title="複製" @click="doCopy('ta04')"><i class="bi bi-copy fs-4"></i></a>
                            </div>
                        </div>
                        <div class="row pb-5">
                            <div class="col">
                                <textarea id="ta05" class="form-control"
                                    rows="4">在 Edit 過程中，只開放 {{tbModifyColumns}} 欄位提供修改，其他未修改欄位請用原來的資料取代，您應該要在 modal 視窗用 hidden input 來保存這些不需要修改欄位的預設值。編輯完成後，請更新畫面資訊，以取得最新資料，同時也需要顯示 Edit 按鈕，以供再次編輯資料。editModal 裡面的 close button，也請提供將 modal 隱藏的程式。請完整寫出 Edit Button Click 後的完整程式碼</textarea>
                                <a href="#" title="複製" @click="doCopy('ta05')"><i class="bi bi-copy fs-4"></i></a>
                            </div>
                        </div>
                        <div class="row pb-5">
                            <div class="col">
                                <h2>新增</h2>
                                <textarea id="ta06" class="form-control"
                                    rows="4">在{{tbName}}Controller.cs, 搭配SqlCommand對資料表{{tbName}}産生 create 功能，不使用EntityFramework,前端必須搭配使用bootstrap 、jquery、搭配 完整ajax程式碼 實現完整的新增流程。注意，DB 連線請使用 appsettings.json 裡的設定,請寫出完整的View、 Controller 、 _Layout.cshtml</textarea>
                                <a href="#" title="複製" @click="doCopy('ta06')"><i class="bi bi-copy fs-4"></i></a>
                            </div>
                        </div>
                        <div class="row pb-5">
                            <div class="col">
                                <textarea id="ta07" class="form-control"
                                    rows="4">在 Create 過程中，只開放 {{tbAddColumns}} 欄位提供修改。新增完成後，請更新畫面資訊，以取得最新資料，同時也需要顯示 Edit 按鈕，以供再次編輯資料。請完整寫出 Create Button Click 後的完整程式碼</textarea>
                                <a href="#" title="複製" @click="doCopy('ta07')"><i class="bi bi-copy fs-4"></i></a>
                            </div>
                        </div>
                        <div class="row pb-5">
                            <div class="col">
                                <h2>刪除</h2>
                                <textarea id="ta08" class="form-control"
                                    rows="4">在{{tbName}}Controller.cs, 搭配SqlCommand對資料表{{tbName}}産生 delete 功能，不使用EntityFramework,前端必須搭配使用bootstrap 、jquery、搭配 完整ajax程式碼 實現完整的刪除流程。注意，DB 連線請使用 appsettings.json 裡的設定請寫出完整的View、 Controller 、 _Layout.cshtml</textarea>
                                <a href="#" title="複製" @click="doCopy('ta08')"><i class="bi bi-copy fs-4"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>
    <script>
        const { createApp, ref, computed } = Vue

        createApp({
            setup() {
                let message = ref('Hello vue!')
                let pcName = ref("")
                let dbName = ref("")
                let retConnection = ref("")
                let tbName = ref("")
                let tbSchema = ref("")
                let tbModifyColumns = ref("")
                let tbAddColumns = ref("")
                let strConnection = "";

                /*
                strConnection += '你是個 dotnet 6.0 的 MVC web工程師。如何使用 MS-SQL Express 資料庫?已經知道電腦名稱:'
                strConnection += pcName.value
                strConnection += '，資料庫名稱為:' + dbName.value
                strConnection += '且是使用 Integrated Security=True 的設定方法。請不要遺漏 Program.cs 裡面相依性注入的設定。以 TestDBContext 為類別名稱，繼承 DBContext 以利後續的範例程式。t_calendarController 裡面關於 DB Connection 的連線字串，請使用 appsettings.json 的 Connection Strings 設定。'
                strConnection += '此外，dotnet 6.0 開始，不應該在 Program.cs 出現  CreateHostBuilder 舊寫法。'
                console.log('pcName:', pcName)
                console.log('pcName.value:', pcName.value)
                */
                retConnection.value = strConnection;
                console.log('retConnection.value:', retConnection.value)

                const doCopy = (taID) => {
                    alert('已複製');
                    var textarea = document.getElementById(taID);
                    textarea.select(); // 選取 textarea 的內容
                    document.execCommand('copy'); // 複製選取的內容                    
                }
                const getConnection = computed({
                    get() {

                        strConnection = '你是個 dotnet 6.0 的 MVC web工程師。如何使用 MS-SQL Express 資料庫?已經知道電腦名稱:'
                        strConnection += pcName.value
                        strConnection += '，資料庫名稱為:' + dbName.value
                        strConnection += '\n且是使用 Integrated Security=True 的設定方法。請不要遺漏 Program.cs 裡面相依性注入的設定。以 TestDBContext 為類別名稱，繼承 DBContext 以利後續的範例程式。t_calendarController 裡面關於 DB Connection 的連線字串，請使用 appsettings.json 的 Connection Strings 設定。'
                        strConnection += '此外，dotnet 6.0 開始，不應該在 Program.cs 出現  CreateHostBuilder 舊寫法。'
                        strConnection += '資料庫' + dbName.value + ' 有一個資料表 ' + tbName.value + ' ，裡面的資料結構如下：\n'
                        strConnection += '"""\n'
                        strConnection += tbSchema.value
                        strConnection += '\n"""\n'
                        strConnection += '請寫出完整的 Program.cs、appsettings.json 、TestDBContext.cs 程式碼。'
                        return strConnection
                    }
                })

                return {
                    message, pcName, dbName, retConnection, getConnection, tbName, tbSchema, tbModifyColumns, tbAddColumns, doCopy
                }
            }
        }).mount('#app')
    </script>
</body>

</html>